# å¿«é€Ÿå¼€å§‹æŒ‡å—

## å‰ç½®è¦æ±‚

1. âœ… Python 3.7+
2. âœ… CLIP-as-serviceæœåŠ¡å™¨è¿è¡Œä¸­
3. âœ… Milvusæ•°æ®åº“è¿è¡Œä¸­

## 5åˆ†é’Ÿå¿«é€Ÿå¼€å§‹

### æ­¥éª¤1: å®‰è£…ä¾èµ–

```bash
cd file_to_milvus
pip install -r requirements.txt
```

### æ­¥éª¤2: å¯åŠ¨CLIPæœåŠ¡å™¨

åœ¨æ–°çš„ç»ˆç«¯çª—å£ä¸­ï¼š

```bash
# å¦‚æœè¿˜æ²¡å®‰è£…clip-server
pip install clip-server

# å¯åŠ¨æœåŠ¡å™¨ï¼ˆé»˜è®¤ç«¯å£51000ï¼‰
python -m clip_server
```

ç­‰å¾…çœ‹åˆ°ç±»ä¼¼è¾“å‡ºï¼š
```
Flow is ready to serve
```

### æ­¥éª¤3: å¯åŠ¨Milvus (ä½¿ç”¨Docker)

```bash
docker run -d \
  --name milvus-standalone \
  -p 19530:19530 \
  -p 9091:9091 \
  -v $(pwd)/milvus_data:/var/lib/milvus \
  milvusdb/milvus:latest
```

æ£€æŸ¥Milvusæ˜¯å¦è¿è¡Œï¼š
```bash
docker ps | grep milvus
```

### æ­¥éª¤4: å¤„ç†ä½ çš„ç¬¬ä¸€ä¸ªæ–‡ä»¶

```bash
# å¤„ç†Wordæ–‡æ¡£
python main.py --file your_document.docx

# æˆ–å¤„ç†Markdownæ–‡ä»¶
python main.py --file README.md
```

### æ­¥éª¤5: æœç´¢

```bash
python main.py --search "ä½ çš„æœç´¢å…³é”®è¯"
```

## å®Œæ•´ç¤ºä¾‹

å‡è®¾ä½ æœ‰ä»¥ä¸‹æ–‡ä»¶ç»“æ„ï¼š
```
documents/
â”œâ”€â”€ report.docx
â”œâ”€â”€ guide.md
â””â”€â”€ images/
    â””â”€â”€ diagram.png
```

### 1. æ‰¹é‡å¤„ç†æ‰€æœ‰æ–‡æ¡£

```bash
python main.py --dir ./documents
```

### 2. æœç´¢æ–‡æœ¬å†…å®¹

```bash
python main.py --search "é¡¹ç›®æŠ¥å‘Š"
```

### 3. åªæœç´¢å›¾åƒ

```bash
python main.py --search "å›¾è¡¨" --content-type image
```

## é…ç½®ç¯å¢ƒå˜é‡ï¼ˆå¯é€‰ï¼‰

å¦‚æœä½ æƒ³ä½¿ç”¨è‡ªå®šä¹‰é…ç½®ï¼Œåˆ›å»º `.env` æ–‡ä»¶ï¼š

```bash
# å¤åˆ¶ç¤ºä¾‹æ–‡ä»¶
cp env_example.txt .env

# ç¼–è¾‘ .env æ–‡ä»¶
nano .env  # æˆ–ä½¿ç”¨ä½ å–œæ¬¢çš„ç¼–è¾‘å™¨
```

ç„¶åä¿®æ”¹å…¶ä¸­çš„é…ç½®é¡¹ã€‚

## å¸¸è§é—®é¢˜

### Q: CLIPæœåŠ¡å™¨è¿æ¥å¤±è´¥ï¼Ÿ

**A:** æ£€æŸ¥ï¼š
1. CLIPæœåŠ¡å™¨æ˜¯å¦åœ¨è¿è¡Œï¼š`ps aux | grep clip_server` æˆ–æŸ¥çœ‹ç»ˆç«¯
2. ç«¯å£æ˜¯å¦æ­£ç¡®ï¼ˆé»˜è®¤51000ï¼‰
3. æœåŠ¡å™¨åœ°å€æ˜¯å¦æ­£ç¡®

### Q: Milvusè¿æ¥å¤±è´¥ï¼Ÿ

**A:** æ£€æŸ¥ï¼š
1. Milvuså®¹å™¨æ˜¯å¦è¿è¡Œï¼š`docker ps`
2. ç«¯å£19530æ˜¯å¦å¯è®¿é—®
3. æŸ¥çœ‹Milvusæ—¥å¿—ï¼š`docker logs milvus-standalone`

### Q: å¦‚ä½•æŸ¥çœ‹å·²å­˜å‚¨çš„æ•°æ®é‡ï¼Ÿ

**A:** è¿è¡Œä»»æ„å‘½ä»¤ï¼Œç¨‹åºå¯åŠ¨æ—¶ä¼šæ˜¾ç¤ºç»Ÿè®¡ä¿¡æ¯ï¼š
```
âœ“ ç°æœ‰å®ä½“æ•°: 150
```

### Q: å¦‚ä½•å¤„ç†å¤§é‡æ–‡ä»¶ï¼Ÿ

**A:** ç³»ç»Ÿæ”¯æŒæ‰¹é‡å¤„ç†ï¼Œç›´æ¥ä½¿ç”¨ `--dir` å‚æ•°å³å¯ã€‚ç³»ç»Ÿä¼šè‡ªåŠ¨æ‰¹å¤„ç†ä»¥æé«˜æ•ˆç‡ã€‚

### Q: å¦‚ä½•åˆ é™¤æ‰€æœ‰æ•°æ®é‡æ–°å¼€å§‹ï¼Ÿ

**A:** ä½¿ç”¨ `--drop-collection` å‚æ•°ï¼š
```bash
python main.py --dir ./documents --drop-collection
```

âš ï¸ **è­¦å‘Š**: è¿™ä¼šåˆ é™¤é›†åˆä¸­çš„æ‰€æœ‰æ•°æ®ï¼

## ä¸‹ä¸€æ­¥

- ğŸ“– æŸ¥çœ‹å®Œæ•´æ–‡æ¡£: `README.md`
- ğŸ” äº†è§£æœç´¢åŠŸèƒ½
- ğŸ› ï¸ è‡ªå®šä¹‰é…ç½®
- ğŸ“Š æŸ¥çœ‹Milvusä¸­çš„å‘é‡æ•°æ®

## éœ€è¦å¸®åŠ©ï¼Ÿ

å¦‚æœé‡åˆ°é—®é¢˜ï¼š
1. æŸ¥çœ‹ `README.md` ä¸­çš„æ•…éšœæ’é™¤éƒ¨åˆ†
2. æ£€æŸ¥æ—¥å¿—è¾“å‡º
3. ç¡®è®¤æ‰€æœ‰æœåŠ¡éƒ½åœ¨è¿è¡Œ

