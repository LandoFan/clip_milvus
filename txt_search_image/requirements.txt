# ============================================================
# CLIP 文本搜图依赖
# ============================================================
# 本项目支持两种模式:
#   - service 模式: 连接 clip-as-service 服务器 (推荐)
#   - local 模式: 本地加载 CLIP 模型
#
# 建议: 使用 service 模式，依赖更少且不会有版本冲突
# ============================================================

# ============================================================
# 基础依赖 (两种模式都需要)
# ============================================================
pymilvus>=2.3.0          # Milvus 向量数据库
numpy>=1.21.0            # 数值计算
Pillow>=9.0.0            # 图像处理
rich>=12.0.0             # 进度条和美化输出

# ============================================================
# Service 模式依赖 (连接 clip-as-service 服务器)
# ============================================================
# 只需安装 clip-client:
#   cd clip-as-service/client && pip install -e .
#
# 或者直接安装:
jina>=3.12.0
docarray==0.21.0         # 注意: 必须是此版本以兼容 clip-as-service
packaging

# ============================================================
# Local 模式依赖 (本地加载模型)
# ============================================================
# 如果使用 local 模式，需要额外安装以下依赖:
torch>=1.13.0
torchvision>=0.14.0
pillow-avif-plugin>=1.3.0
regex>=2022.1.18
ftfy>=6.0.0
open_clip_torch>=2.8.0,<2.9.0   # 必须是此版本范围

# ============================================================
# 可选依赖
# ============================================================
# 多语言 CLIP 支持:
# transformers>=4.20.0
# sentencepiece>=0.1.96

# 中文 CLIP 支持:
# cn-clip>=1.0.0
